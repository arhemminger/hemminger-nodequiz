<!--
============================================
; Title:  Hemminger NodeQuiz
; Author: Andrew Hemminger
; Date:  2 October 2019
; Description: NodeQuiz application
;===========================================
-->
<div class="heading">
    <h1>Quiz</h1>
  </div>

  <br>

  <!--quiz material card-->
  <mat-card *ngIf='quiz' class="quiz-card">
    <mat-card-header>
      <mat-card-title>Quiz {{quizId}} - {{quiz.name}}</mat-card-title>
      <mat-card-subtitle>{{quiz.description}}</mat-card-subtitle>
    </mat-card-header>
    <hr>

    <!-- root mat card content -->
    <mat-card-content >
      <!--flex-layout column -->
      <div fxLayout="column">
        <!-- quiz form -->
        <form #quizForm="ngForm" (ngSubmit)="onSubmit(quizForm.value); quizForm.reset();">
          <div *ngFor="let question of quiz.questions">
            <mat-card class="mat-elevation-z0">
              <mat-card-content>
                <div fxLayout="column">
                  <!--questions-->
                  <h4>Question {{question.id}}:</h4>
                  <mat-list>
                    <mat-list-item>
                      <p matLine>{{question.text}}</p>
                    </mat-list-item>
                  </mat-list>

                  <!--answers-->
                  <div>
                    <mat-radio-group [(ngModel)]="Answers" name="question._id" aria-labelledby="radio-group-label" class="radio-group">
                      <mat-radio-button class="radio-button" *ngFor="let answer of question.answers" [value]="answer.id" [checked]="answer.id">{{answer.text}}</mat-radio-button>
                      <div>Selected answerId: {{Answers}}</div>
                    </mat-radio-group>
                  </div>

                </div>
                <mat-divider></mat-divider>
              </mat-card-content>
            </mat-card>
          </div>

        </form>

      </div>
      </mat-card-content>

    <mat-card-actions>
      <button mat-raised-button color="primary" class="mat-button" type="submit" [routerLink]="['/quiz-result']">Submit</button>
      <button mat-raised-button color="warn" class="mat-button" (click)="return()">Abandon</button>
    </mat-card-actions>

  </mat-card>

